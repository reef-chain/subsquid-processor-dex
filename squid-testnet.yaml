manifestVersion: subsquid.io/v0.1
name: reef-swap-testnet
version: 1
description: |-
  Reef Swap testnet data

build:

deploy:
  addons:
    postgres:
  processor:
    env:
      NETWORK:
        testnet
      NODE_RPC_WS:
        wss://rpc-testnet.reefscan.info/ws
      ARCHIVE_LOOKUP_NAME:
        reef-testnet
      FACTORY_ADDRESS:
        "0x06D7a7334B9329D0750FFd0a636D6C3dFA77E580"
      VERIFY_POOLS:
        true
      VERIFICATION_API_URL:
        https://api-testnet.reefscan.com/
      VERIFICATION_BATCH_INTERVAL:
        10000
      START_BLOCK:
        1
    cmd: [ "node", "lib/processor" ]
  api:
    cmd: [ "npx", "squid-graphql-server", "--subscriptions", "--max-root-fields", "15", "--max-response-size", "1000"]

scale:
  addons:
    postgres:
      profile:
        large
#
#deploy:
#  addons:
#    postgres:
  # the set of secrets that must be set and provided by Aquarium
#  secrets:
#    - ACALA_RPC_ENDPOINT
#    - COINGECKO_API_KEY
#  processor:
#    # additional env variables
#    environment:
#      SQD_DEBUG=sqd:mapping
#    env:
#      # env variables from a file
#      - .deploy.env
#    cmd: [ "node", "lib/processor" ]
#  api:
#    # custom run command for the GraphQL server
#    cmd: [ "npx", "squid-graphql-server", "--subscriptions", "--max-root-fields", "10", "--sql-statement-timeout", "1000" ]

#scale:
#  addons:
#    postgres:
#      storage: 100Gi
#      profile: medium
#  processor:
#    profile: medium
#  api:
#    profile: large
#    # load-balance three replicas
#    replicas: 3